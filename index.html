<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>TimeLink Generator</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f8f8f8; }
    .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    input, button { padding: 8px; margin: 5px 0; width: 100%; }
    .output { background: #f0f0f0; padding: 10px; word-break: break-word; border-radius: 8px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>üîó Buat Smart Link (Time + Password)</h2>

    <label>URL Tujuan:</label>
    <input type="text" id="url" placeholder="https://example.com">

    <label>Waktu Mulai:</label>
    <input type="datetime-local" id="start">

    <label>Waktu Berakhir:</label>
    <input type="datetime-local" id="end">

    <label>Password Akses:</label>
    <input type="text" id="password" placeholder="Contoh: rahasia123">

    <button onclick="generate()">üîê Buat Link</button>

    <h3>Hasil Link:</h3>
    <div class="output" id="output">Belum dibuat...</div>
  </div>

  <script>
    function generate() {
      const base = location.href.replace("index.html", "viewer.html");

      const url = encodeURIComponent(document.getElementById('url').value);
      const start = encodeURIComponent(document.getElementById('start').value);
      const end = encodeURIComponent(document.getElementById('end').value);
      const pw = encodeURIComponent(document.getElementById('password').value);

      const link = `${base}?url=${url}&start=${start}&end=${end}&pw=${pw}`;
      document.getElementById('output').innerHTML = `<a href="${link}" target="_blank">${link}</a>`;
    }
  </script>
</body>
</html>
